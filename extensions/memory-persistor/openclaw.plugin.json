{
  "id": "memory-persistor",
  "kind": "memory",
  "uiHints": {
    "persistor.apiKey": {
      "label": "Persistor API Key",
      "sensitive": true,
      "placeholder": "your-api-key",
      "help": "Bearer token for Persistor API auth (or use ${PERSISTOR_API_KEY})"
    },
    "persistor.url": {
      "label": "Persistor URL",
      "placeholder": "http://localhost:3030",
      "help": "Base URL for the Persistor API"
    },
    "persistor.searchMode": {
      "label": "Search Mode",
      "help": "Search strategy: hybrid (text+vector), text, or semantic"
    },
    "weights.file": {
      "label": "File Weight",
      "help": "Score weight for file-based memory results",
      "advanced": true
    },
    "weights.persistor": {
      "label": "Persistor Weight",
      "help": "Score weight for Persistor knowledge graph results",
      "advanced": true
    }
  },
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "persistor": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "url": { "type": "string", "default": "http://localhost:3030" },
          "apiKey": { "type": "string" },
          "timeout": { "type": "number", "minimum": 100, "maximum": 30000, "default": 3000 },
          "searchMode": { "type": "string", "enum": ["hybrid", "text", "semantic"], "default": "hybrid" },
          "searchLimit": { "type": "number", "minimum": 1, "maximum": 100, "default": 10 }
        },
        "required": ["apiKey"]
      },
      "weights": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "file": { "type": "number", "minimum": 0, "maximum": 2, "default": 1.0 },
          "persistor": { "type": "number", "minimum": 0, "maximum": 2, "default": 0.9 }
        }
      },
      "persistorContextOnGet": { "type": "boolean", "default": true }
    },
    "required": ["persistor"]
  }
}
